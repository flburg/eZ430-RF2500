<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Components/simpliciti/nwk_applications/nwk_link.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>Components/simpliciti/nwk_applications/nwk_link.c File Reference</h1><code>#include &lt;string.h&gt;</code><br>
<code>#include &quot;<a class="el" href="bsp_8h-source.html">bsp.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="mrfi_8h-source.html">mrfi.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="nwk__types_8h-source.html">nwk_types.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="nwk__api_8h-source.html">nwk_api.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="nwk__frame_8h-source.html">nwk_frame.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="nwk_8h-source.html">nwk.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="nwk__link_8h-source.html">nwk_link.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="nwk__globals_8h-source.html">nwk_globals.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="nwk__security_8h-source.html">nwk_security.h</a>&quot;</code><br>

<p>
<a href="nwk__link_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nwk__link_8c.html#e32f014e96247f906cf57c7d08d5e5f5">SENT_REPLY</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nwk__link_8c.html#2b7de4b7842e102cfc7509d5ad6481ee">SENT_NO_REPLY</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nwk__link_8c.html#927dfbff54f0716a69bdfea400848028">nwk_linkInit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nwk__link_8c.html#9bb23d7d54e25d5b386fb088a4632a06">nwk_setLinkToken</a> (<a class="el" href="bsp__msp430__defs_8h.html#ce049f43925d786f75724a33b9f503cc">uint32_t</a> token)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nwk__link_8c.html#262acab6a07969f6d4845aa8d14e6259">nwk_getLinkToken</a> (<a class="el" href="bsp__msp430__defs_8h.html#ce049f43925d786f75724a33b9f503cc">uint32_t</a> *pToken)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="nwk__types_8h.html#bc3335170bd809d2456c3764595bb41f">smplStatus_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nwk__link_8c.html#c443de583f1b5d41ad30a130806a9ab8">nwk_link</a> (<a class="el" href="nwk__types_8h.html#f8f720dc4ed059245ecf82cd256ffa54">linkID_t</a> *lid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="nwk__types_8h.html#85949999f43cec8c39e00538807405f0">fhStatus_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nwk__link_8c.html#9cb6edfdebff5a2e50012f0aa8f65995">nwk_processLink</a> (<a class="el" href="structmrfiPacket__t.html">mrfiPacket_t</a> *frame)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="nwk__types_8h.html#f8f720dc4ed059245ecf82cd256ffa54">linkID_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nwk__link_8c.html#cd0d254308e827ac53e215f6c8fb10d2">nwk_getLocalLinkID</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nwk__link_8c.html#8d286944bf8bba55f0cf5aa7da02158c">nwk_setListenContext</a> (<a class="el" href="bsp__msp430__defs_8h.html#3ebf7c4fcbf17b618a01df30a79859d3">uint8_t</a> context)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="2b7de4b7842e102cfc7509d5ad6481ee"></a><!-- doxytag: member="nwk_link.c::SENT_NO_REPLY" ref="2b7de4b7842e102cfc7509d5ad6481ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SENT_NO_REPLY&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="nwk__link_8c-source.html#l00080">80</a> of file <a class="el" href="nwk__link_8c-source.html">nwk_link.c</a>.
</div>
</div><p>
<a class="anchor" name="e32f014e96247f906cf57c7d08d5e5f5"></a><!-- doxytag: member="nwk_link.c::SENT_REPLY" ref="e32f014e96247f906cf57c7d08d5e5f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SENT_REPLY&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="nwk__link_8c-source.html#l00079">79</a> of file <a class="el" href="nwk__link_8c-source.html">nwk_link.c</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="262acab6a07969f6d4845aa8d14e6259"></a><!-- doxytag: member="nwk_link.c::nwk_getLinkToken" ref="262acab6a07969f6d4845aa8d14e6259" args="(uint32_t *pToken)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nwk_getLinkToken           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bsp__msp430__defs_8h.html#ce049f43925d786f75724a33b9f503cc">uint32_t</a> *&nbsp;</td>
          <td class="paramname"> <em>pToken</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="nwk__link_8c-source.html#l00162">162</a> of file <a class="el" href="nwk__link_8c-source.html">nwk_link.c</a>.
<p>
Referenced by <a class="el" href="nwk__api_8c-source.html#l00682">SMPL_Ioctl()</a>.
</div>
</div><p>
<a class="anchor" name="cd0d254308e827ac53e215f6c8fb10d2"></a><!-- doxytag: member="nwk_link.c::nwk_getLocalLinkID" ref="cd0d254308e827ac53e215f6c8fb10d2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="nwk__types_8h.html#f8f720dc4ed059245ecf82cd256ffa54">linkID_t</a> nwk_getLocalLinkID           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="nwk__link_8c-source.html#l00736">736</a> of file <a class="el" href="nwk__link_8c-source.html">nwk_link.c</a>.
<p>
References <a class="el" href="bsp_8h-source.html#l00095">BSP_ENTER_CRITICAL_SECTION</a>, <a class="el" href="bsp_8h-source.html#l00096">BSP_EXIT_CRITICAL_SECTION</a>, <a class="el" href="nwk__link_8h-source.html#l00045">LINK_LISTEN_OFF</a>, and <a class="el" href="nwk__link_8c-source.html#l00793">nwk_setListenContext()</a>.
<p>
Referenced by <a class="el" href="nwk__api_8c-source.html#l00180">SMPL_LinkListen()</a>.
</div>
</div><p>
<a class="anchor" name="c443de583f1b5d41ad30a130806a9ab8"></a><!-- doxytag: member="nwk_link.c::nwk_link" ref="c443de583f1b5d41ad30a130806a9ab8" args="(linkID_t *lid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="nwk__types_8h.html#bc3335170bd809d2456c3764595bb41f">smplStatus_t</a> nwk_link           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nwk__types_8h.html#f8f720dc4ed059245ecf82cd256ffa54">linkID_t</a> *&nbsp;</td>
          <td class="paramname"> <em>lid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="nwk__link_8c-source.html#l00277">277</a> of file <a class="el" href="nwk__link_8c-source.html">nwk_link.c</a>.
<p>
References <a class="el" href="nwk__types_8h-source.html#l00054">addr_t::addr</a>, <a class="el" href="nwk_8h-source.html#l00085">connInfo_t::connState</a>, <a class="el" href="nwk_8h-source.html#l00081">CONNSTATE_CONNECTED</a>, <a class="el" href="nwk__frame_8h-source.html#l00085">F_RX_TYPE_POLLS</a>, <a class="el" href="nwk_8h-source.html#l00086">connInfo_t::hops2target</a>, <a class="el" href="nwk__types_8h.html#dce1d6e720abafed7028bb97ea0ebb70af31b3c45665297c3ae528279d60a048">IOCTL_ACT_READ</a>, <a class="el" href="nwk__types_8h.html#dce1d6e720abafed7028bb97ea0ebb702ebd36e484f0a86fee70a3989ea41b21">IOCTL_ACT_WRITE</a>, <a class="el" href="nwk__types_8h.html#a5bc45cc3d7aa3be43d8a279116522f52a6a80e649b7c8ad1175e8760b09692e">IOCTL_OBJ_RAW_IO</a>, <a class="el" href="nwk__link_8h-source.html#l00057">L_CTR_OS</a>, <a class="el" href="nwk__link_8h-source.html#l00053">L_LINK_TOKEN_OS</a>, <a class="el" href="nwk__link_8h-source.html#l00055">L_MY_RXTYPE_OS</a>, <a class="el" href="nwk__link_8h-source.html#l00056">L_PROTOCOL_VERSION_OS</a>, <a class="el" href="nwk__link_8h-source.html#l00054">L_RMT_PORT_OS</a>, <a class="el" href="nwk__link_8h-source.html#l00049">LB_REQ_OS</a>, <a class="el" href="nwk__link_8h-source.html#l00050">LB_TID_OS</a>, <a class="el" href="nwk__link_8h-source.html#l00077">LINK_FRAME_SIZE</a>, <a class="el" href="nwk__link_8h-source.html#l00041">LINK_REPLY_LEGACY_MSG_LENGTH</a>, <a class="el" href="nwk__link_8h-source.html#l00093">LINK_REQ_LINK</a>, <a class="el" href="nwk_8h-source.html#l00076">LINK_SEND</a>, <a class="el" href="nwk__link_8h-source.html#l00061">LR_CTR_OS</a>, <a class="el" href="nwk__link_8h-source.html#l00060">LR_MY_RXTYPE_OS</a>, <a class="el" href="nwk__link_8h-source.html#l00059">LR_RMT_PORT_OS</a>, <a class="el" href="nwk_8c-source.html#l00062">MAX_HOPS</a>, <a class="el" href="mrfi__radio_8c-source.html#l01414">MRFI_GetRadioState()</a>, <a class="el" href="mrfi__radio_8c-source.html#l01222">MRFI_RandomByte()</a>, <a class="el" href="nwk__types_8h-source.html#l00044">NET_ADDR_SIZE</a>, <a class="el" href="nwk_8c-source.html#l00675">nwk_allocateLocalRxPort()</a>, <a class="el" href="nwk__types_8h-source.html#l00042">NWK_APP_REPLY_BIT</a>, <a class="el" href="nwk__types_8h-source.html#l00333">NWK_CHECK_FOR_RESTORE_STATE</a>, <a class="el" href="nwk__types_8h-source.html#l00324">NWK_CHECK_FOR_SETRX</a>, <a class="el" href="nwk_8c-source.html#l00318">nwk_freeConnection()</a>, <a class="el" href="nwk__globals_8c-source.html#l00255">nwk_getBCastAddress()</a>, <a class="el" href="nwk__frame_8c-source.html#l00685">nwk_getMyRxType()</a>, <a class="el" href="nwk_8c-source.html#l00236">nwk_getNextConnection()</a>, <a class="el" href="nwk_8c-source.html#l00952">nwk_getNumObjectFromMsg()</a>, <a class="el" href="nwk__globals_8c-source.html#l00168">nwk_getProtocolVersion()</a>, <a class="el" href="nwk_8c-source.html#l00990">nwk_putNumObjectIntoMsg()</a>, <a class="el" href="nwk__types_8h-source.html#l00312">NWK_REPLY_DELAY</a>, <a class="el" href="nwk_8h-source.html#l00090">connInfo_t::peerAddr</a>, <a class="el" href="nwk_8h-source.html#l00092">connInfo_t::portRx</a>, <a class="el" href="nwk_8h-source.html#l00093">connInfo_t::portTx</a>, <a class="el" href="nwk__api_8c-source.html#l00682">SMPL_Ioctl()</a>, <a class="el" href="nwk__types_8h.html#e0b034bf9575c473b7fd4ba5daa0155ed250bb1b9356acda187c3ebc2e41b8c3">SMPL_NO_LINK</a>, <a class="el" href="nwk__types_8h.html#e0b034bf9575c473b7fd4ba5daa0155ee401fb249ec01cc76f6354a58612e0bc">SMPL_NOMEM</a>, <a class="el" href="nwk_8h-source.html#l00042">SMPL_PORT_LINK</a>, <a class="el" href="nwk__types_8h.html#e0b034bf9575c473b7fd4ba5daa0155e1587bead2fa0982ec696a5dd4458aa56">SMPL_SUCCESS</a>, <a class="el" href="nwk__types_8h.html#e0b034bf9575c473b7fd4ba5daa0155e70573914d36e96ff435bd7a5b03f8626">SMPL_TIMEOUT</a>, and <a class="el" href="nwk_8h-source.html#l00094">connInfo_t::thisLinkID</a>.
<p>
Referenced by <a class="el" href="nwk__api_8c-source.html#l00530">SMPL_Link()</a>.
</div>
</div><p>
<a class="anchor" name="927dfbff54f0716a69bdfea400848028"></a><!-- doxytag: member="nwk_link.c::nwk_linkInit" ref="927dfbff54f0716a69bdfea400848028" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nwk_linkInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="nwk__link_8c-source.html#l00107">107</a> of file <a class="el" href="nwk__link_8c-source.html">nwk_link.c</a>.
<p>
References <a class="el" href="mrfi__radio_8c-source.html#l01222">MRFI_RandomByte()</a>.
<p>
Referenced by <a class="el" href="nwk_8c-source.html#l00176">nwk_nwkInit()</a>.
</div>
</div><p>
<a class="anchor" name="9cb6edfdebff5a2e50012f0aa8f65995"></a><!-- doxytag: member="nwk_link.c::nwk_processLink" ref="9cb6edfdebff5a2e50012f0aa8f65995" args="(mrfiPacket_t *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="nwk__types_8h.html#85949999f43cec8c39e00538807405f0">fhStatus_t</a> nwk_processLink           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmrfiPacket__t.html">mrfiPacket_t</a> *&nbsp;</td>
          <td class="paramname"> <em>frame</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="nwk__link_8c-source.html#l00685">685</a> of file <a class="el" href="nwk__link_8c-source.html">nwk_link.c</a>.
<p>
References <a class="el" href="nwk__types_8h.html#239f22220479dc250e23d722510ec3a22368f352fcccf9f3527403cbdd4ffbc2">FHS_KEEP</a>, <a class="el" href="nwk__types_8h.html#239f22220479dc250e23d722510ec3a22cbdb927d9e992823d388a4bed4b06cd">FHS_REPLAY</a>, <a class="el" href="nwk__link_8h-source.html#l00049">LB_REQ_OS</a>, <a class="el" href="nwk__link_8h-source.html#l00050">LB_TID_OS</a>, <a class="el" href="mrfi__radio_8c-source.html#l01393">MRFI_PostKillSem()</a>, <a class="el" href="nwk_8c-source.html#l00794">nwk_isValidReply()</a>, <a class="el" href="nwk_8h-source.html#l00070">SMPL_A_REPLY</a>, and <a class="el" href="nwk_8h-source.html#l00069">SMPL_MY_REPLY</a>.
</div>
</div><p>
<a class="anchor" name="9bb23d7d54e25d5b386fb088a4632a06"></a><!-- doxytag: member="nwk_link.c::nwk_setLinkToken" ref="9bb23d7d54e25d5b386fb088a4632a06" args="(uint32_t token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nwk_setLinkToken           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bsp__msp430__defs_8h.html#ce049f43925d786f75724a33b9f503cc">uint32_t</a>&nbsp;</td>
          <td class="paramname"> <em>token</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="nwk__link_8c-source.html#l00139">139</a> of file <a class="el" href="nwk__link_8c-source.html">nwk_link.c</a>.
<p>
Referenced by <a class="el" href="nwk__join_8c-source.html#l00438">nwk_join()</a>, <a class="el" href="nwk__join_8c-source.html#l00106">nwk_joinInit()</a>, and <a class="el" href="nwk__api_8c-source.html#l00682">SMPL_Ioctl()</a>.
</div>
</div><p>
<a class="anchor" name="8d286944bf8bba55f0cf5aa7da02158c"></a><!-- doxytag: member="nwk_link.c::nwk_setListenContext" ref="8d286944bf8bba55f0cf5aa7da02158c" args="(uint8_t context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nwk_setListenContext           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bsp__msp430__defs_8h.html#3ebf7c4fcbf17b618a01df30a79859d3">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>context</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="nwk__link_8c-source.html#l00793">793</a> of file <a class="el" href="nwk__link_8c-source.html">nwk_link.c</a>.
<p>
References <a class="el" href="nwk__link_8h-source.html#l00044">LINK_LISTEN_ON</a>.
<p>
Referenced by <a class="el" href="nwk__link_8c-source.html#l00736">nwk_getLocalLinkID()</a>, and <a class="el" href="nwk__api_8c-source.html#l00180">SMPL_LinkListen()</a>.
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Thu Mar 29 11:40:06 2012 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
